/* ============================================
   RESET CSS MODERNE ET COMPLET
   Basé sur les best practices 2024 - 2025
   Correction: Architecture "App-Like" (No Double Scroll)
   ============================================ */

/* ===== Box Model universel ===== */
*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ===== HTML et Body - CONFIGURATION APP-LIKE ===== */
html {
    margin: 0;
    padding: 0;
    border: 0;
    /* On force la hauteur pour que les pourcentages enfants fonctionnent */
    height: 100%; 
    width: 100%;
    
    /* CRITICAL : On tue le scroll natif du navigateur ici */
    overflow: hidden; 
    
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    margin: 0;
    padding: 0;
    border: 0;
    
    /* CRITICAL : Le body prend tout l'écran mais NE SCROLLE PAS.
       C'est 'main' (dans global.css) qui s'en chargera. */
    height: 100%;
    width: 100%;
    overflow: hidden; 
    
    line-height: 1.6;
    background-color: var(--color-bg-primary, #121212); /* Fallback si variable non chargée */
}

/* ===== Fix pour #root (React) ===== */
#root {
    margin: 0;
    padding: 0;
    
    /* Le conteneur React doit remplir le body sans déborder */
    height: 100%;
    width: 100%;
    
    /* Isole le contexte de formatage */
    isolation: isolate; 
    overflow: hidden;
}


/* ===== Typographie ===== */
h1, h2, h3, h4, h5, h6 {
    font-size: inherit;
    font-weight: inherit;
    line-height: 1.2;
}

p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
}

/* ===== Listes ===== */
ul, ol {
    list-style: none;
}

/* ===== Liens ===== */
a {
    text-decoration: none;
    color: inherit;
    cursor: pointer;
}

/* ===== Boutons ===== */
button {
    border: none;
    background: none;
    font-family: inherit;
    font-size: inherit;
    cursor: pointer;
    padding: 0;
}

button:disabled {
    cursor: not-allowed;
}

/* ===== Formulaires ===== */
input, textarea, select, button {
    font-family: inherit;
    font-size: inherit;
    color: inherit;
    background: none;
    border: none;
}

input:focus, textarea:focus, select:focus, button:focus {
    outline: none;
}

/* Reset inputs specifiques */
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration { display: none; }

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }

/* ===== Images et Médias ===== */
img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
    height: auto;
}

/* ===== Tables ===== */
table {
    border-collapse: collapse;
    border-spacing: 0;
}

/* ===== Éléments sémantiques ===== */
article, aside, details, figcaption, figure, footer, header, main, nav, section {
    display: block;
}

/* ===== Accessibilité (sr-only) ===== */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* ===== Préférences Utilisateur ===== */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* ===== Scrollbar personnalisée (Webkit) ===== */
/* Note: Sera appliquée au 'main' car html/body sont hidden */
::-webkit-scrollbar {
    width: 8px; /* Un peu plus fin pour l'élégance */
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent; 
}

::-webkit-scrollbar-thumb {
    background: rgba(136, 136, 136, 0.5); /* Semi-transparent */
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(136, 136, 136, 0.8);
}

/* ===== Focus visible ===== */
:focus-visible {
    outline: 2px solid var(--color-accent-light, #3b82f6);
    outline-offset: 2px;
}
